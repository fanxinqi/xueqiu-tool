# 更新日志

## v2.0 - 网络拦截版本 (2025-08-19)

### 🔥 重大更新
- **网络请求拦截**: 完全重写数据采集逻辑，从页面DOM解析改为直接拦截API响应
- **API响应捕获**: 专门捕获 `/v4/statuses/user_timeline.json` 接口的完整响应数据
- **更准确的数据**: 获取到的是服务端原始数据，避免了页面渲染可能的数据丢失

### ✨ 新增功能
- 支持 XMLHttpRequest 和 Fetch 请求拦截
- 智能去重机制防止重复处理相同API响应
- 完整保存API响应的原始JSON数据
- 结构化提取关键字段（用户信息、动态内容、图片等）

### 🛠️ 技术改进
- 新增 `webRequest` 和 `webRequestBlocking` 权限
- 新增 `host_permissions` 配置
- 重写 `content.js` 核心逻辑
- 优化后台服务支持网络监听

### 📊 数据结构变更
- 导出数据现在包含完整的API响应
- 每个API响应包含多个结构化的items
- 保留原始responseData和提取的items数据

### 🔧 使用方式
使用方式基本保持不变：
1. 点击timeline tab触发首次API请求
2. 自动拦截并保存API响应
3. 点击下一页触发新的API请求
4. 重复直到没有更多页面

### ⚠️ 注意事项
- 需要重新安装插件以获取新的权限
- 导出的数据格式有所变化，更加丰富和准确
- 运行时会在控制台显示拦截到的API信息

---

## v1.0 - 初始版本

### 功能
- 基础的页面DOM数据爬取
- 自动翻页功能
- 数据导出功能
